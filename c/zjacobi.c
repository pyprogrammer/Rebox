
const size_t clamp_underflow_mask[8] = {0x0, 0x9249249249249249L, 0x2492492492492492, 0xb6db6db6db6db6dbL, 0x4924924924924924, 0xdb6db6db6db6db6dL, 0x6db6db6db6db6db6, 0xffffffffffffffffL};
const size_t clamp_overflow_mask[8] = {0x0, 0x1249249, 0x2492492, 0x36db6db, 0x4924924, 0x5b6db6d, 0x6db6db6, 0x7ffffff};
const size_t encode_lookup_table[0x3][8] = {{0x0, 0x1, 0x8, 0x9, 0x40, 0x41, 0x48, 0x49}, {0x0, 0x2, 0x10, 0x12, 0x80, 0x82, 0x90, 0x92}, {0x0, 0x4, 0x20, 0x24, 0x100, 0x104, 0x120, 0x124}};
size_t add(size_t code, size_t code2) {
    return ((code >> 0 & 0x249249) + (code2 >> 0 | 0xdb6db6) & 0x249249) << 0 | ((code >> 1 & 0x249249) + (code2 >> 1 | 0xdb6db6) & 0x249249) << 1 | ((code >> 2 & 0x249249) + (code2 >> 2 | 0xdb6db6) & 0x249249) << 2;
};
void clamp(size_t* code) {
    * code &= ~ clamp_underflow_mask[(* code >> 0x1b & 0x7)];
    size_t mask = * code >> 0x1b & 0x1ffffffff;
    * code |= clamp_overflow_mask[((mask >> 0x0 | mask >> 0x3 | mask >> 0x6 | mask >> 0x9 | mask >> 0xc | mask >> 0xf | mask >> 0x12 | mask >> 0x15 | mask >> 0x18 | mask >> 0x1b | mask >> 0x1e) & 0x7)];
    * code &= 0x7ffffff;
};
size_t encode(size_t* indices) {
    return (encode_lookup_table[0x0][(indices[0x0] >> 0x0 & 0x7)] | encode_lookup_table[0x1][(indices[0x1] >> 0x0 & 0x7)] | encode_lookup_table[0x2][(indices[0x2] >> 0x0 & 0x7)]) << 0x0 | (encode_lookup_table[0x0][(indices[0x0] >> 0x3 & 0x7)] | encode_lookup_table[0x1][(indices[0x1] >> 0x3 & 0x7)] | encode_lookup_table[0x2][(indices[0x2] >> 0x3 & 0x7)]) << 0x3 | (encode_lookup_table[0x0][(indices[0x0] >> 0x6 & 0x7)] | encode_lookup_table[0x1][(indices[0x1] >> 0x6 & 0x7)] | encode_lookup_table[0x2][(indices[0x2] >> 0x6 & 0x7)]) << 0x6;
};

